{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<div class="show">
<h1 class="text-center m-3">Tableau des employés</h1>
{# <h3 class="text-end"><a class="m-3" href="{{ path('nouv_emp') }}">Ajouter un employé<i class=" m-2 fa-solid fa-address-book"></i></i></a></h3> #}

<a href="{{ path('nouv_emp') }}" class="button">Ajouter un employé</a><br><br>
{% for message in app.flashes('add_OK') %}
  <p>{{ message }}</p>
{% endfor %}

{% for message in app.flashes('delete_OK') %}
  <p>{{ message }}</p>
{% endfor %}

<table class="table caption-top text-center">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Prenom</th>
      <th scope="col">Nom</th>
      <th scope="col">Telephone</th>
      <th scope="col">Email</th>
      <th scope="col">Adresse</th>
      <th scope="col">Poste</th>
      <th scope="col">Salaire</th>
      <th scope="col">Option</th>
    </tr>
  </thead>
  <tbody>
  {% for employe in employes %}
    <tr>
      <th scope="row">{{ employe.id }}</th>
      <td>{{ employe.prenom }}</td>
      <td>{{ employe.nom }}</td>
      <td>{{ employe.telephone }}</td>
      <td>{{ employe.email }}</td>
      <td>{{ employe.adresse }}</td>
      <td>{{ employe.poste }}</td>
      <td>{{ employe.salaire }}</td>
      <td>{{ employe.datedenaissance|date('d/m/Y') }}</td>
      <td>
      <a href="{{ path('edit_emp', {id: employe.id}) }}"><i class="fa-solid fa-pen-to-square"></i></a>
      <a href="{{ path('delete_emp', {id: employe.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
      </td>
    </tr>   
  {% endfor %}
     
  </tbody>
</table>

</div>
{% endblock %}
